<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload = function(){
            //获取爱好
            const hobbies = document.getElementsByName("hobby")

            //获取按钮
            const allBtn = document.getElementById("all")
            const noBtn = document.getElementById("no")
            const reverseBtn = document.getElementById("reverse")
            const sendBtn = document.getElementById("send")

            //获取选中的按钮
            const checkAll = document.querySelectorAll(
                "[name = hobby]:checked"
            )

            //获取全选框
            const check_all = document.getElementById("check-all")

            //为按钮绑定事件
            allBtn.onclick = function(){
                for(let i = 0; i < hobbies.length; i++){
                    hobbies[i].checked = true
                }
                check_all.checked = true
            }
            noBtn.onclick = function(){
                for(let i = 0; i < hobbies.length; i++){
                    hobbies[i].checked = false
                }
                check_all.checked = false
            }
            reverseBtn.onclick = function(){
                for(let i = 0; i < hobbies.length; i++){
                    hobbies[i].checked = !hobbies[i].checked
                }
                const checkAll = document.querySelectorAll(
                    "[name = hobby]:checked"
                )
                if(checkAll.length === hobbies.length){
                    check_all.checked = true
                }else{
                    check_all.checked = false
                }
            }
            sendBtn.onclick = function(){
                for(let i = 0; i < hobbies.length; i++){
                    if(hobbies[i].checked){
                        alert(hobbies[i].value)
                    }
                }
            }

            //为全选框绑定事件
            check_all.onchange = function(){

                //在事件的响应函数中，响应函数绑定给谁，this就是谁（箭头函数除外）
                for(let i = 0; i < hobbies.length; i++){
                    hobbies[i].checked = check_all.checked
                }
            }
            
            for(let i = 0; i < hobbies.length; i++){
                hobbies[i].onchange = function(){
                    if(checkAll.length === hobbies.length){
                        check_all.checked = true
                    }else{
                        check_all.checked = false
                    }
                }
            }
        }

        
    </script>
</head>
<body>
    <div>
        <form action="#">
            <div>
                请选择你的爱好：
                <input type="checkbox" id="check-all">全选
            </div>
            <div>
                <input type="checkbox" name="hobby" value="唱">唱
                <input type="checkbox" name="hobby" value="跳">跳
                <input type="checkbox" name="hobby" value="Rap">Rap
                <input type="checkbox" name="hobby" value="篮球">篮球
            </div>
            <div>
                <button type="button" id="all">全选</button>
                <button type="button" id="no">全不选</button>
                <button type="button" id="reverse">反选</button>
                <button type="button" id="send">提交</button>
            </div>
        </form>
    </div>
</body>
</html>